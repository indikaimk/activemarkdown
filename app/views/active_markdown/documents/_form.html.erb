<nav>
  <ul class="toolbar">
    <li>
      <a href=""  data-controller="editable" 
                  data-action="click->editable#convertTo mousedown->editable#mouseDown" 
                  data-editable-convert-type-value="p" 
                  data-editable-header1-class="not-selected">
        <span class="material-symbols-outlined">
          reorder
        </span>
        <span>Normal</span>
      </a>
    </li>
    <li>
      <a href=""  data-controller="editable" 
                  data-action="click->editable#convertTo mousedown->editable#mouseDown" 
                  data-editable-convert-type-value="h1" 
                  data-editable-header1-class="not-selected">
        <span class="material-symbols-outlined">
          format_h1
        </span>
        <span>Header 1</span>
      </a>
    </li>
    <li>

    </li>
  </ul>
</nav>

<turbo-frame id="document">
  <div>
    <% document.fragments.by_position.each do |fragment| %>
      <%= render partial: "active_markdown/fragments/form", locals: {fragment: fragment} %>
    <% end %>
  </div>
  
  <%= turbo_frame_tag "new_fragment" do %>
    <%= form_with(model: [document, @fragment], url: active_markdown.document_fragments_path(document), method: "post", id: "new-fragment-form") do |form| %>
      <%= form.text_area :content, class: "new-fragment-content" %>
      <%= form.text_field :proceeding_fragment_id, class: "proceeding-fragment-id" %>

      <%= form.submit %>
    <% end %>
  <% end %>

</turbo-frame>
